{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"map\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1);\n}","map":{"version":3,"mappings":";;EACQA,EAAE,EAAC;AAAK;;uBAAbC,oBAAoB,OAApBC,UAAoB","names":["id","_createElementBlock","_hoisted_1"],"sourceRoot":"","sources":["/home/dima/r-i-p/src/App.vue"],"sourcesContent":["<template>\n   <div id=\"map\"></div>\n</template>\n\n<script>\nimport leaflet from 'leaflet'\nimport '@geoman-io/leaflet-geoman-free';  \nimport '@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.css'; \n//  import * as turf from '@turf/turf'\nimport axios from 'axios'\n\n\nexport default {\n  name: 'App',\n  components: {\n    \n  },\n  data() {\n    return {\n      map: null,\n      polygon: null,\n      marker: null,\n      polygon2: null,\n      options: {\n          position: 'topleft', // toolbar position, options are 'topleft', 'topright', 'bottomleft', 'bottomright'\n          drawMarker: true, // adds button to draw markers\n          drawPolyline: true, // adds button to draw a polyline\n          drawRectangle: true, // adds button to draw a rectangle\n          drawPolygon: true, // adds button to draw a polygon\n          drawCircle: true, // adds button to draw a cricle\n          cutPolygon: true, // adds button to cut a hole in a polygon\n          editMode: true, // adds button to toggle edit mode for all layers\n          removalMode: true, // adds a button to remove layers\n        },\n        geojsonFeature: {\n          // \"type\": \"FeatureCollection\",\n          // \"features\": [\n          //   {\n          //     \"type\": \"Feature\",\n          //     \"properties\": {},\n          //     \"geometry\": {\n          //       \"coordinates\": \n          //         [51.509, -0.08],\n          //       \"type\": \"Point\"\n          //     }\n          //   },\n          // ]\n        },\n        geoFeature: 0,\n    }\n  },\n  methods: {\n      newGeo(){\n        var fg = leaflet.featureGroup();\n            this.map.eachLayer((layer)=>{\n              if(layer instanceof leaflet.Path || layer instanceof leaflet.Marker){\n                fg.addLayer(layer);\n              }\n              });\n               console.log(fg.toGeoJSON());\n              return fg.toGeoJSON()\n      }\n  },\n  mounted() {\n    this.map = leaflet.map('map').setView([49.25578,28.46221], 15); \n    leaflet.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxZoom: 19,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n}).addTo(this.map);\n    this.polygon = leaflet.polygon([\n    [49.25578,28.46221],\n    [49.25724,28.46273],\n    [49.25742,28.46215],\n    [49.25884,28.46237],\n    [49.25893,28.46130],\n    [49.26026,28.46135],\n    [49.26047,28.45471],\n    [49.25916,28.45445],\n    [49.25903,28.45517],\n    [49.25837,28.45510],\n    [49.25821,28.45663],\n    [49.25791,28.45665],\n    [49.25769,28.46030],\n    [49.25685,28.46009],\n    [49.25646,28.45980]\n]).addTo(this.map)\n  .bindPopup(\"P'yatnychanske cemetery\")\n  // .openPopup()\n  .setStyle({color:'black',fillColor: 'black',});\n\n  // this.marker = leaflet.marker().addTo(this.map);\n\n  this.map.pm.addControls(this.options);\n\n  // this.polygon2 = leaflet.geoJSON(this.geojsonFeature).addTo(this.map)\n  // .setStyle({ color: '#000',fillColor: '#BADA55',fillOpacity: 0.5})\n  },\n  created() {\n        axios.get('Cemetery_Vinnytska.geojson')\n        .then(responce =>{\n      this.geojsonFeature = responce.data\n      let icon = leaflet.icon({\n    iconUrl: 'icon.png',\n    iconSize:     [25, 25], // size of the icon\n    shadowSize:   [50, 64], // size of the shadow\n    shadowAnchor: [4, 62],  // the same for the shadow\n     popupAnchor:  [-3, 0] // point from which the popup should open relative to the iconAnchor\n});\n      leaflet.geoJSON(this.geojsonFeature,{\n    pointToLayer: function(feature,latlng){\n      return leaflet.marker(latlng,{icon: icon});\n    }\n  }).addTo(this.map)\n    .bindPopup(function (layer) {if(layer.feature.properties.codename !== null &&  layer.feature.properties.City !== null) return layer.feature.properties.ADMIN_1+ ' область, '\n            + layer.feature.properties.ADMIN_2 + ' район, ' + layer.feature.properties.ADMIN_3 + ' громада, '\n            + layer.feature.properties.codename + ' ' + layer.feature.properties.City;\n            else return layer.feature.properties.ADMIN_1+ ' область, '\n            + layer.feature.properties.ADMIN_2 + ' район, ' + layer.feature.properties.ADMIN_3 + ' громада'\n            })\n          })\n        // .then(responce => {\n        //     this.geojsonFeature = responce.data\n            \n        //     // console.log(this.geojsonFeature);\n        //     this.polygon2 = leaflet.geoJSON(this.geojsonFeature,\n        //     // {style: function (feature) {\n        //     // return {color: feature.properties.color};\n        //     // }}\n        //     ).addTo(this.map)\n        //     .bindPopup(function (layer) {if(layer.feature.properties.codename !== null &&  layer.feature.properties.City !== null) return layer.feature.properties.ADMIN_1+ ' область, '\n        //     + layer.feature.properties.ADMIN_2 + ' район, ' + layer.feature.properties.ADMIN_3 + ' громада, '\n        //     + layer.feature.properties.codename + ' ' + layer.feature.properties.City;\n        //     else return layer.feature.properties.ADMIN_1+ ' область, '\n        //     + layer.feature.properties.ADMIN_2 + ' район, ' + layer.feature.properties.ADMIN_3 + ' громада'\n        //     })\n        // })\n        // .catch(el => {\n        //     this.errors.push(el)\n        // })\n    },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n#map { height: 480px;}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}